---
# Base role entry point - always executed
# Orchestrates system setup and common tool installation
# Note: Variables loaded by playbook via vars_from: vars.yml

- name: System setup tasks
  block:
    - name: Clean up unwanted pre-installed software
      include_tasks: system/cleanup.yml

    - name: Install base packages and AUR helper
      include_tasks: system/update.yml

    - name: Configure hardware drivers
      include_tasks: system/drivers.yml

- name: Common tools setup
  block:
    - name: Setup Mise
      include_tasks: tools/mise/install.yml

    - name: Setup Ghostty
      include_tasks: tools/ghostty/install.yml

    - name: Setup Fish shell
      include_tasks: tools/fish/install.yml

    - name: Setup Git
      include_tasks: tools/git/install.yml

    - name: Setup Neovim
      include_tasks: tools/neovim/install.yml

    - name: Setup Tmux
      include_tasks: tools/tmux/install.yml

    - name: Setup Vivaldi
      include_tasks: tools/vivaldi/install.yml

- name: Desktop environment customization
  block:
    - name: Customize KDE Plasma
      include_tasks: system/kde-customize.yml
